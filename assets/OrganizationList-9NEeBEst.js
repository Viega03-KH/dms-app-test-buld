import{u as b,_}from"./OrganizationForm-Dxn2NXrc.js";import{u as y,x as v,r as g,a as u,o as m,b as o,g as e,h as n,f as s,X as w,j as x,l as C,F as B,B as S,v as $}from"./index-CgBs40KH.js";import{B as z}from"./BaseCrudTable-T2X6_6kN.js";import{_ as T}from"./BaseTableHeader-O855qQhE.js";import{S as F}from"./useFormValidate-rQ8rGJw0.js";import{T as q}from"./trash-2-C0SWzlnu.js";/* empty css                                                                      */import"./plus-CPvJ2MNj.js";const N={class:"max-w-xl max-h-xl"},O={class:"flex justify-between modal-border items-center p-[14px] border-b"},D={class:"justify-end border-t modal-card flex gap-2 p-4"},M={__name:"OrganizationDelete",props:{id:{type:Number,required:!0}},setup(h){const c=h,r=b(),p=y(),d=v(),f=async()=>{try{await r.remove(c.id),p.show("Muvaffaqiyatli o‘chirildi!","success"),d.close()}catch(a){p.show("Xatolik yuz berdi!","error"),console.error(a)}};return(a,t)=>{const i=g("UButton");return m(),u("div",N,[o("div",O,[t[2]||(t[2]=o("p",{class:"text-dark text-lg font-bold uppercase"},"O‘chirish",-1)),e(i,{customClass:"bg-[#475467] rounded-full p-1",onClick:t[0]||(t[0]=l=>s(d).close())},{default:n(()=>[e(s(w),{"stroke-width":"3",class:"w-4 h-4 text-white"})]),_:1})]),t[5]||(t[5]=o("div",{class:"p-4 text-center space-y-4"},[o("p",{class:"text-base text-dark"}," Siz rostdan hamo o‘chirmoqchimisiz? ")],-1)),o("div",D,[e(i,{onClick:t[1]||(t[1]=l=>s(d).close()),variant:"ghost",disabled:s(r).loading},{default:n(()=>[...t[3]||(t[3]=[x(" Bekor qilish ",-1)])]),_:1},8,["disabled"]),e(i,{variant:"danger",onClick:f,loading:s(r).loading},{default:n(()=>[...t[4]||(t[4]=[x(" O‘chirish ",-1)])]),_:1},8,["loading"])])])}}},U={class:"flex flex-col gap-4 items-center"},j={class:"px-4 py-3 border-r"},A={class:"px-4 py-3 flex"},I={__name:"OrganizationList",setup(h){const c=b(),r=v(),p=()=>r.open(_),d=a=>r.open(_,{id:a}),f=a=>r.open(M,{id:a});return C(()=>c.fetchAll()),(a,t)=>{const i=g("UButton");return m(),u("div",U,[e(T,{title:"Tashkelotlar ro'yxati",buttonText:"Qo‘shish",onAddNew:p}),e(z,null,{thead:n(()=>[...t[0]||(t[0]=[o("th",{class:"table-header uppercase"},"Manzil",-1),o("th",{class:"table-header uppercase"},"Tahrirlash",-1)])]),tbody:n(()=>[(m(!0),u(B,null,S(s(c).organizations,l=>(m(),u("tr",{key:l.id,class:"hover:bg-[#F4F6FC]"},[o("td",j,$(l.name),1),o("td",A,[e(i,{variant:"hover",onClick:k=>d(l.id)},{default:n(()=>[e(s(F),{class:"w-5 h-5"})]),_:1},8,["onClick"]),e(i,{variant:"hover",onClick:k=>f(l.id)},{default:n(()=>[e(s(q),{class:"w-5 h-5 text-red-500"})]),_:1},8,["onClick"])])]))),128))]),_:1})])}}};export{I as default};
