import{u as w,x as v,r as g,a as u,o as m,b as t,g as s,h as r,f as o,j as _,l as C,J as B,K as z,v as h,L as S}from"./index-CkYps7b0.js";import{u as y,_ as b}from"./OrganizationForm-Gj8WjA51.js";import{I as $,B as D}from"./IconBG-CCKUmUJ-.js";import{X as M}from"./useFormValidate-CxOIEp00.js";import{P as j}from"./plus-BbJxjYiT.js";import{S as F}from"./square-pen-Dc0dSIea.js";import{T}from"./trash-2-DzZfIUqq.js";const q={class:"max-w-xl max-h-xl"},O={class:"flex justify-between modal-border items-center p-[14px] border-b"},Y={class:"justify-end border-t modal-card flex gap-2 p-4"},I={__name:"OrganizationDelete",props:{id:{type:Number,required:!0}},setup(x){const c=x,n=y(),p=w(),d=v(),f=async()=>{try{await n.remove(c.id),p.show("Muvaffaqiyatli o‘chirildi!","success"),d.close()}catch(l){p.show("Xatolik yuz berdi!","error"),console.error(l)}};return(l,e)=>{const i=g("UButton");return m(),u("div",q,[t("div",O,[e[2]||(e[2]=t("p",{class:"text-dark text-lg font-bold uppercase"},"O‘chirish",-1)),s(i,{customClass:"bg-[#475467] rounded-full p-1",onClick:e[0]||(e[0]=a=>o(d).close())},{default:r(()=>[s(o(M),{"stroke-width":"3",class:"w-4 h-4 text-white"})]),_:1})]),e[5]||(e[5]=t("div",{class:"p-4 text-center space-y-4"},[t("p",{class:"text-base text-dark"}," Siz rostdan hamo o‘chirmoqchimisiz? ")],-1)),t("div",Y,[s(i,{onClick:e[1]||(e[1]=a=>o(d).close()),variant:"ghost",disabled:o(n).loading},{default:r(()=>[...e[3]||(e[3]=[_(" Bekor qilish ",-1)])]),_:1},8,["disabled"]),s(i,{variant:"danger",onClick:f,loading:o(n).loading},{default:r(()=>[...e[4]||(e[4]=[_(" O‘chirish ",-1)])]),_:1},8,["loading"])])])}}},N={class:"flex flex-col items-center"},U={class:"relative flex bg-[#0F172A] shadow-sm flex-col gap-5 sm:flex-row sm:items-center sm:justify-between p-6 w-full overflow-hidden"},A={class:"px-4 py-3 border-r"},L={class:"px-4 py-3 border-r"},P={class:"px-4 py-3 border-r"},V={class:"px-4 py-3 flex justify-center gap-2"},R={__name:"OrganizationList",setup(x){const c=y(),n=v(),p=()=>n.open(b),d=l=>n.open(b,{id:l}),f=l=>n.open(I,{id:l});return C(()=>c.fetchAll()),(l,e)=>{const i=g("UButton");return m(),u("div",N,[t("div",U,[s($),e[1]||(e[1]=t("h3",{class:"text-md font-extrabold uppercase text-gray-100"},"Tashkelotlar ro'yxati",-1)),s(i,{class:"z-10",variant:"primary",onClick:p},{default:r(()=>[s(o(j),{"stroke-width":"3"}),e[0]||(e[0]=t("span",{class:"px-1"},"Qo‘shish",-1))]),_:1})]),s(D,null,{thead:r(()=>[...e[2]||(e[2]=[t("th",{class:"table-header uppercase"},"ID",-1),t("th",{class:"table-header uppercase"},"Manzil",-1),t("th",{class:"table-header uppercase"},"Yaratilgan",-1),t("th",{class:"table-header uppercase"},"Tahrirlash",-1)])]),tbody:r(()=>[(m(!0),u(B,null,z(o(c).organizations,a=>(m(),u("tr",{key:a.id,class:"hover:bg-[#F4F6FC]"},[t("td",A,"ID-"+h(a.id),1),t("td",L,h(a.name),1),t("td",P,h(o(S)(a.created_at).format("DD MMMM YYYY")),1),t("td",V,[s(i,{variant:"hover",onClick:k=>d(a.id)},{default:r(()=>[s(o(F),{class:"w-5 h-5"})]),_:1},8,["onClick"]),s(i,{variant:"hover",onClick:k=>f(a.id)},{default:r(()=>[s(o(T),{class:"w-5 h-5 text-red-500"})]),_:1},8,["onClick"])])]))),128))]),_:1})])}}};export{R as default};
