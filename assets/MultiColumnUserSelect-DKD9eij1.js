import{k as b,_ as V,d as y,A as B,C as D,a as r,q as u,t as N,v as _,b as c,g as i,f as p,n as g,N as T,h as x,r as $,F as z,B as L,c as M,T as j,s as A,o}from"./index-5YwSdCnv.js";import{a as q}from"./UserListItem-D0FFpLqf.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=b("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=b("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),H={class:"flex flex-col gap-1 w-full"},O={key:0,class:"text-md font-bold"},Q={class:"relative"},G={class:"flex items-center gap-3 text-gray-400"},J={key:0,class:"absolute mt-2 w-full bg-white border rounded-lg shadow z-50 max-h-80 flex flex-col"},K={class:"p-2 border-b"},P={class:"overflow-auto max-h-[400px] divide-y"},R={key:0,class:"text-blue-500"},W={key:0,class:"p-8 text-center text-sm text-gray-400 italic"},X={__name:"MultiColumnUserSelect",props:{options:{type:Array,default:()=>[]},selectedIds:{type:Array,default:()=>[]},label:String,placeholder:{type:String,default:"Ijrochini tanlang"},error:String},emits:["select","search"],setup(n,{emit:k}){const d=n,f=k,t=y(!1),s=y("");let m=null;B(s,e=>{m&&clearTimeout(m),m=setTimeout(()=>{f("search",e)},400)});const w=()=>{t.value=!t.value,t.value||(s.value="")},C=()=>{t.value=!1,s.value=""},S=e=>{d.selectedIds.includes(e)||(f("select",e),s.value="",t.value=!1)},v=e=>d.selectedIds.includes(e),h=D(()=>{if(!s.value)return d.options;const e=s.value.toLowerCase();return d.options.filter(l=>`${l.first_name||""} ${l.last_name||""} ${l.department?.name||""}`.toLowerCase().includes(e))});return(e,l)=>{const I=$("UInput"),U=A("click-outside");return o(),r("div",H,[n.label?(o(),r("label",O,_(n.label),1)):u("",!0),N((o(),r("div",Q,[c("div",{onClick:w,class:g(["border border-[rgba(226,230,245,1)] shadow-sm bg-white rounded-xl px-4 py-3 flex justify-between items-center cursor-pointer transition",{"border-blue-500 ring-1 ring-blue-400":t.value,"border-red-400":n.error}])},[c("div",G,[i(p(E)),c("span",null,_(n.placeholder),1)]),i(p(T),{class:g(["transition text-gray-400",{"rotate-180":t.value}])},null,8,["class"])],2),i(j,{name:"fade"},{default:x(()=>[t.value?(o(),r("div",J,[c("div",K,[i(I,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=a=>s.value=a),type:"text",placeholder:"Qidirish..."},null,8,["modelValue"])]),c("ul",P,[(o(!0),r(z,null,L(h.value,a=>(o(),M(q,{key:a.id,user:a,"custom-class":v(a.id)?"bg-gray-100 cursor-not-allowed":"hover:bg-gray-50",onSelect:Y=>!v(a.id)&&S(a.id)},{action:x(()=>[v(a.id)?(o(),r("span",R,[i(p(F),{size:20,"stroke-width":"2"})])):u("",!0)]),_:2},1032,["user","custom-class","onSelect"]))),128)),h.value.length?u("",!0):(o(),r("li",W,[...l[1]||(l[1]=[c("div",{class:"flex flex-col items-center gap-2"}," Natija topilmadi ",-1)])]))])])):u("",!0)]),_:1})])),[[U,C]])])}}},te=V(X,[["__scopeId","data-v-cc682e9d"]]);export{te as M};
