import{k,C as l,a as y,o as p,b as s,n as _,v as m,g as i,c as C,q as E,h as b,f as h,w as x,D as w}from"./index-CgBs40KH.js";import{T as j}from"./trash-2-C0SWzlnu.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=k("arrow-down-to-line",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),U={class:"group flex items-center justify-between border border-[#EAECF0] shadow-sm rounded-xl px-4 py-3 hover:bg-blue-50/30 transition-colors duration-200 cursor-pointer",role:"button"},D={class:"flex items-center gap-4 min-w-0 flex-1"},F=["title"],B={class:"flex items-center gap-1 shrink-0 ml-2"},R={__name:"UFileCard",props:{file:{type:Object,required:!0},showDelete:{type:Boolean,default:!1}},emits:["remove"],setup(n,{emit:z}){const t=n,c={pdf:"bg-red-500",doc:"bg-blue-500",docx:"bg-blue-500",xls:"bg-green-500",xlsx:"bg-green-500",zip:"bg-orange-500",rar:"bg-orange-500",png:"bg-indigo-500",jpg:"bg-indigo-500",default:"bg-slate-500"},a=l(()=>t.file?t.file.name||t.file.file?.split("/").pop()||"file":"Unknown File"),d=l(()=>(t.file.extension||a.value.split(".").pop())?.toLowerCase()||""),g=l(()=>c[d.value]||c.default),v=async()=>{const o=t.file.file;if(!o)return alert("Fayl manzili topilmadi");try{const e=await fetch(o);if(!e.ok)throw new Error("Yuklab olishda xatolik");const u=await e.blob(),f=URL.createObjectURL(u),r=document.createElement("a");r.href=f,r.download=a.value,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(f)}catch(e){console.error("Download error:",e),alert("Faylni yuklab boâ€˜lmadi. Server sozlamalarini tekshiring.")}};return(o,e)=>(p(),y("div",U,[s("div",D,[s("div",{class:_(["flex items-center justify-center text-white text-xs font-bold w-12 h-12 rounded-xl shrink-0 uppercase transition-transform",g.value])},m(d.value),3),s("p",{class:"text-md text-slate-700 font-semibold truncate pr-4",title:a.value},m(a.value),9,F)]),s("div",B,[i(w,{onClick:x(v,["stop"]),variant:"hover",title:"Yuklab olish"},{default:b(()=>[i(h(L),{class:"w-5 h-5 text-gray-500 hover:text-blue-600"})]),_:1}),n.showDelete?(p(),C(w,{key:0,onClick:e[0]||(e[0]=x(u=>o.$emit("remove"),["stop"])),variant:"hover",title:"O'chirish"},{default:b(()=>[i(h(j),{class:"w-5 h-5 text-gray-500 hover:text-red-600"})]),_:1})):E("",!0)])]))}};export{R as _};
