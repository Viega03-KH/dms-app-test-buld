import{U as r,y as s}from"./index-CgBs40KH.js";const n=()=>r.get("/departments/"),i=t=>r.post("/departments/",t),c=t=>r.get(`/departments/${t}/`),l=(t,e)=>r.put(`/departments/${t}/`,e),o=t=>r.delete(`/departments/${t}/`),p=s("departments",{state:()=>({departments:[],current:null,loading:!1,error:null}),actions:{async fetchAll(){this.loading=!0,this.error=null;try{const t=await n();this.departments=t.data.results||[]}catch(t){this.error=t}finally{this.loading=!1}},async fetchOne(t){this.loading=!0;try{const e=await c(t);this.current=e.data}catch(e){this.error=e}finally{this.loading=!1}},async create(t){try{await i(t),await this.fetchAll()}catch(e){this.error=e}},async update(t,e){try{await l(t,e),await this.fetchAll()}catch(a){this.error=a}},async remove(t){try{await o(t),this.departments=this.departments.filter(e=>e.id!==t)}catch(e){this.error=e}}}});export{p as u};
