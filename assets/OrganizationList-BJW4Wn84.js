import{u as w,x as _,r as b,a as u,o as m,b as o,g as t,h as r,f as s,X as y,j as h,l as C,F as B,C as z,v as S}from"./index-DirDpiKz.js";import{u as g,_ as v}from"./OrganizationForm-Cd4jC69f.js";import{B as $}from"./BaseCrudTable-BSc-cSqg.js";import{I as F}from"./IconBG-CnmyzwLi.js";import{P as T}from"./plus-B6npwRQp.js";import{S as q}from"./useFormValidate-DiuR9UEs.js";import{T as O}from"./trash-2-Dshkx7mY.js";/* empty css                                                                      */const j={class:"max-w-xl max-h-xl"},D={class:"flex justify-between modal-border items-center p-[14px] border-b"},M={class:"justify-end border-t modal-card flex gap-2 p-4"},N={__name:"OrganizationDelete",props:{id:{type:Number,required:!0}},setup(x){const c=x,a=g(),p=w(),d=_(),f=async()=>{try{await a.remove(c.id),p.show("Muvaffaqiyatli o‘chirildi!","success"),d.close()}catch(n){p.show("Xatolik yuz berdi!","error"),console.error(n)}};return(n,e)=>{const l=b("UButton");return m(),u("div",j,[o("div",D,[e[2]||(e[2]=o("p",{class:"text-dark text-lg font-bold uppercase"},"O‘chirish",-1)),t(l,{customClass:"bg-[#475467] rounded-full p-1",onClick:e[0]||(e[0]=i=>s(d).close())},{default:r(()=>[t(s(y),{"stroke-width":"3",class:"w-4 h-4 text-white"})]),_:1})]),e[5]||(e[5]=o("div",{class:"p-4 text-center space-y-4"},[o("p",{class:"text-base text-dark"}," Siz rostdan hamo o‘chirmoqchimisiz? ")],-1)),o("div",M,[t(l,{onClick:e[1]||(e[1]=i=>s(d).close()),variant:"ghost",disabled:s(a).loading},{default:r(()=>[...e[3]||(e[3]=[h(" Bekor qilish ",-1)])]),_:1},8,["disabled"]),t(l,{variant:"danger",onClick:f,loading:s(a).loading},{default:r(()=>[...e[4]||(e[4]=[h(" O‘chirish ",-1)])]),_:1},8,["loading"])])])}}},U={class:"flex flex-col gap-2 items-center"},A={class:"relative rounded-md flex bg-[#0F172A] shadow-sm flex-col gap-5 sm:flex-row sm:items-center sm:justify-between p-6 w-full overflow-hidden"},P={class:"px-4 py-3 border-r"},V={class:"px-4 py-3 flex"},K={__name:"OrganizationList",setup(x){const c=g(),a=_(),p=()=>a.open(v),d=n=>a.open(v,{id:n}),f=n=>a.open(N,{id:n});return C(()=>c.fetchAll()),(n,e)=>{const l=b("UButton");return m(),u("div",U,[o("div",A,[t(F),e[1]||(e[1]=o("h3",{class:"text-md font-extrabold uppercase text-gray-100"},"Tashkelotlar ro'yxati",-1)),t(l,{class:"z-10",variant:"primary",onClick:p},{default:r(()=>[t(s(T),{"stroke-width":"3"}),e[0]||(e[0]=o("span",{class:"px-1"},"Qo‘shish",-1))]),_:1})]),t($,null,{thead:r(()=>[...e[2]||(e[2]=[o("th",{class:"table-header uppercase"},"Manzil",-1),o("th",{class:"table-header uppercase"},"Tahrirlash",-1)])]),tbody:r(()=>[(m(!0),u(B,null,z(s(c).organizations,i=>(m(),u("tr",{key:i.id,class:"hover:bg-[#F4F6FC]"},[o("td",P,S(i.name),1),o("td",V,[t(l,{variant:"hover",onClick:k=>d(i.id)},{default:r(()=>[t(s(q),{class:"w-5 h-5"})]),_:1},8,["onClick"]),t(l,{variant:"hover",onClick:k=>f(i.id)},{default:r(()=>[t(s(O),{class:"w-5 h-5 text-red-500"})]),_:1},8,["onClick"])])]))),128))]),_:1})])}}};export{K as default};
