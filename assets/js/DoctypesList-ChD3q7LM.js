import{u as e}from"./doctypeStore-9dcWtGjt.js";import{b as a,u as s}from"./index-UQS6FCx4.js";import{B as t}from"./BaseCrudTable-CSUoLckS.js";import{_ as r}from"./BaseTableHeader-Ch6ERfBu.js";import{B as l,c as o,o as i,e as d,b as n,t as c,w as u,u as p,N as m,x as f,z as h,F as b,r as x}from"./vue-vendor-VaL6RChx.js";import{u as y}from"./useFormValidate-Wk5HUh9e.js";import{X as v,y as g,z as w}from"./ui-vendor-CHl9FvfL.js";import"./utils-DZp7J2GC.js";/* empty css                                                                      */const _={class:"flex flex-col w-[700px]"},j={class:"flex justify-between modal-border items-center p-[14px] border-b"},k={class:"text-dark text-lg font-bold uppercase"},C={class:"flex flex-wrap -mx-2 p-4"},q={class:"w-full px-2 py-2"},B={class:"justify-end border-t modal-card modal-border flex items-center p-4"},F={__name:"DoctypesForm",props:{id:{type:Number,default:null}},setup(t){const r=e(),h=a(),b=s(),{form:x,errors:g,validate:w,resetForm:F}=y({name:""},{name:{required:!0,message:"Majburiy"}}),z=t,N=!!z.id,T=async()=>{if(w())try{N?(await r.update(z.id,x),b.show("Muvaffaqiyatli yangilandi","success")):(await r.create(x),b.show("Muvaffaqiyatli yaratildi","success")),U(),F()}catch(e){b.show("Xatolik yuz berdi","")}},U=()=>h.close();return(e,a)=>{const s=l("UButton"),t=l("UInput");return i(),o("div",_,[d("div",j,[d("p",k,c(N?"Yangilash":"Yangi"),1),n(s,{customClass:"bg-[#475467] rounded-full p-1",onClick:U},{default:u(()=>[n(p(v),{"stroke-width":"3",class:"w-4 h-4 text-white"})]),_:1})]),d("form",{onSubmit:f(T,["prevent"]),class:"space-y-6"},[d("div",C,[d("div",q,[n(t,{modelValue:p(x).name,"onUpdate:modelValue":a[0]||(a[0]=e=>p(x).name=e),label:"Hujjat turi",placeholder:"Hujjat turi kiriting",error:p(g).name},null,8,["modelValue","error"])])]),d("div",B,[n(s,{type:"button",variant:"ghost",onClick:U,disabled:p(r).loading},{default:u(()=>[...a[1]||(a[1]=[m("Bekor qilish",-1)])]),_:1},8,["disabled"]),n(s,{type:"submit",variant:"primary",loading:p(r).loading},{default:u(()=>[m(c(N?"Yangilash":"Saqlash"),1)]),_:1},8,["loading"])])],32)])}}},z={class:"max-w-xl max-h-xl"},N={class:"flex justify-between modal-border items-center p-[14px] border-b"},T={class:"justify-end border-t modal-card flex gap-2 p-4"},U={__name:"DoctypesDelete",props:{id:{type:Number,required:!0}},setup(t){const r=t,c=e(),f=s(),h=a(),b=async()=>{try{await c.remove(r.id),f.show("Muvaffaqiyatli o‘chirildi!","success"),h.close()}catch(e){f.show("Xatolik yuz berdi!","error")}};return(e,a)=>{const s=l("UButton");return i(),o("div",z,[d("div",N,[a[2]||(a[2]=d("p",{class:"text-dark text-lg font-bold uppercase"},"O‘chirish",-1)),n(s,{customClass:"bg-[#475467] rounded-full p-1",onClick:a[0]||(a[0]=e=>p(h).close())},{default:u(()=>[n(p(v),{"stroke-width":"3",class:"w-4 h-4 text-white"})]),_:1})]),a[5]||(a[5]=d("div",{class:"p-4 text-center space-y-4"},[d("p",{class:"text-base text-dark"},"Siz rostdan hamo o‘chirmoqchimisiz?")],-1)),d("div",T,[n(s,{onClick:a[1]||(a[1]=e=>p(h).close()),variant:"ghost",disabled:p(c).loading},{default:u(()=>[...a[3]||(a[3]=[m("Bekor qilish",-1)])]),_:1},8,["disabled"]),n(s,{variant:"danger",onClick:b,loading:p(c).loading},{default:u(()=>[...a[4]||(a[4]=[m("O‘chirish",-1)])]),_:1},8,["loading"])])])}}},D={class:"flex flex-col gap-4 items-center"},H={class:"px-4 py-3 border-r"},M={class:"px-4 py-3 flex"},S={__name:"DoctypesList",setup(s){const m=e(),f=a(),y=()=>f.open(F);return h(()=>m.fetchAll()),(e,a)=>{const s=l("UButton");return i(),o("div",D,[n(r,{title:"Hujjat turi",buttonText:"Qo‘shish",onAddNew:y}),n(t,null,{thead:u(()=>[...a[0]||(a[0]=[d("th",{class:"table-header uppercase"},"Nomi",-1),d("th",{class:"table-header uppercase"},"Tahrirlash",-1)])]),tbody:u(()=>[(i(!0),o(b,null,x(p(m).doctypes,e=>(i(),o("tr",{key:e.id,class:"hover:bg-[#F4F6FC]"},[d("td",H,c(e.name),1),d("td",M,[n(s,{variant:"hover",onClick:a=>{return s=e.id,f.open(F,{id:s});var s}},{default:u(()=>[n(p(g),{class:"w-5 h-5"})]),_:1},8,["onClick"]),n(s,{variant:"hover",onClick:a=>{return s=e.id,f.open(U,{id:s});var s}},{default:u(()=>[n(p(w),{class:"w-5 h-5 text-red-500"})]),_:1},8,["onClick"])])]))),128))]),_:1})])}}};export{S as default};
