import{d as t}from"./vue-vendor-D8IdSx1h.js";import{h as a}from"./index-CJLFOwbl.js";const e=t("departments",{state:()=>({departments:[],current:null,loading:!1,error:null}),actions:{async fetchAll(){this.loading=!0,this.error=null;try{const t=await a.get("/departments/");this.departments=t.data.results||[]}catch(t){this.error=t}finally{this.loading=!1}},async fetchOne(t){this.loading=!0;try{const e=await(t=>a.get(`/departments/${t}/`))(t);this.current=e.data}catch(e){this.error=e}finally{this.loading=!1}},async create(t){try{await(t=>a.post("/departments/",t))(t),await this.fetchAll()}catch(e){this.error=e}},async update(t,e){try{await((t,e)=>a.put(`/departments/${t}/`,e))(t,e),await this.fetchAll()}catch(r){this.error=r}},async remove(t){try{await(t=>a.delete(`/departments/${t}/`))(t),this.departments=this.departments.filter(a=>a.id!==t)}catch(e){this.error=e}}}});export{e as u};
