import{u as e}from"./deliveryStore-DWCkN7m0.js";import{b as a,u as s}from"./index-CJLFOwbl.js";import{B as t}from"./BaseCrudTable-B2vMCFoi.js";import{_ as r}from"./BaseTableHeader-BcULAewV.js";import{B as l,c as i,o,e as d,b as n,t as c,w as u,u as p,O as m,x as h,z as f,F as b,r as y}from"./vue-vendor-D8IdSx1h.js";import{u as v}from"./useFormValidate-WCLlqkIO.js";import{X as x,y as g,z as w}from"./ui-vendor-CdXc56Eq.js";import"./utils-DZp7J2GC.js";/* empty css                                                                      */const _={class:"flex flex-col w-[700px]"},k={class:"flex justify-between modal-border items-center p-[14px] border-b shadow-sm"},j={class:"text-gary-600 text-md font-bold uppercase"},C={class:"flex flex-wrap -mx-2 p-4"},z={class:"w-full px-2 py-2"},q={class:"justify-end border-t modal-card modal-border flex items-center p-4"},B={__name:"DelivryForm",props:{id:{type:Number,default:null}},setup(t){const r=e(),f=a(),b=s(),{form:y,errors:g,validate:w,resetForm:B}=v({name:""},{name:{required:!0,message:"Majburiy"}}),F=t,Y=!!F.id,M=async()=>{if(w())try{Y?(await r.update(F.id,y),b.show("Muvaffaqiyatli yangilandi","success")):(await r.create(y),b.show("Muvaffaqiyatli yaratildi","success")),T(),B()}catch(e){b.show("Xatolik yuz berdi","")}},T=()=>f.close();return(e,a)=>{const s=l("UButton"),t=l("UInput");return o(),i("div",_,[d("div",k,[d("p",j,c(Y?"Yangilash":"Yangi"),1),n(s,{customClass:"bg-gray-300 rounded-full p-1",onClick:T},{default:u(()=>[n(p(x),{"stroke-width":"3",class:"w-4 h-4 text-white"})]),_:1})]),d("form",{onSubmit:h(M,["prevent"]),class:"space-y-6"},[d("div",C,[d("div",z,[n(t,{modelValue:p(y).name,"onUpdate:modelValue":a[0]||(a[0]=e=>p(y).name=e),label:"Yetkazib berish",placeholder:"Yetkazib berish turlarini kiriting",error:p(g).name_oz},null,8,["modelValue","error"])])]),d("div",q,[n(s,{variant:"ghost",type:"button",onClick:T,disabled:p(r).loading},{default:u(()=>[...a[1]||(a[1]=[m("Bekor qilish",-1)])]),_:1},8,["disabled"]),n(s,{type:"submit",variant:"primary",loading:p(r).loading},{default:u(()=>[m(c(Y?"Yangilash":"Saqlash"),1)]),_:1},8,["loading"])])],32)])}}},F={class:"max-w-xl max-h-xl"},Y={class:"justify-between border-b modal-card flex items-center p-4"},M={class:"justify-end border-t modal-card flex gap-2 p-4"},T={__name:"DelivryDelete",props:{id:{type:Number,required:!0}},setup(t){const r=t,c=e(),h=s(),f=a(),b=async()=>{try{await c.remove(r.id),h.show("Muvaffaqiyatli o‘chirildi!","success"),f.close()}catch(e){h.show("Xatolik yuz berdi!","error")}};return(e,a)=>{const s=l("UButton");return o(),i("div",F,[d("div",Y,[a[2]||(a[2]=d("p",{class:"text-black text-md font-bold uppercase"},"O‘chirish",-1)),n(s,{customClass:"bg-gray-400 rounded-full p-1",onClick:a[0]||(a[0]=e=>p(f).close())},{default:u(()=>[n(p(x),{"stroke-width":"3",class:"w-4 h-4 text-white"})]),_:1})]),a[5]||(a[5]=d("div",{class:"p-4 text-center space-y-4"},[d("p",{class:"text-base text-dark"},"Siz rostdan hamo o‘chirmoqchi bo'lsangiz, tasdiqlang")],-1)),d("div",M,[n(s,{variant:"ghost",onClick:a[1]||(a[1]=e=>p(f).close()),disabled:p(c).loading},{default:u(()=>[...a[3]||(a[3]=[m("Bekor qilish",-1)])]),_:1},8,["disabled"]),n(s,{variant:"danger",onClick:b,loading:p(c).loading},{default:u(()=>[...a[4]||(a[4]=[m("O‘chirish",-1)])]),_:1},8,["loading"])])])}}},U={class:"flex flex-col gap-4 items-center"},D={class:"px-4 py-3 border-r"},S={class:"px-4 py-3 flex"},V={__name:"DelivryList",setup(s){const m=e(),h=a(),v=()=>h.open(B);return f(()=>m.fetchAll()),(e,a)=>{const s=l("UButton");return o(),i("div",U,[n(r,{title:"Yetkazib beruvchilar ro'yxati",buttonText:"Qo‘shish",onAddNew:v}),n(t,null,{thead:u(()=>[...a[0]||(a[0]=[d("th",{class:"table-header uppercase"},"Manzil",-1),d("th",{class:"table-header uppercase"},"Tahrirlash",-1)])]),tbody:u(()=>[(o(!0),i(b,null,y(p(m).list,e=>(o(),i("tr",{key:e.id,class:"hover:bg-[#F4F6FC]"},[d("td",D,c(e.name),1),d("td",S,[n(s,{variant:"hover",onClick:a=>{return s=e.id,h.open(B,{id:s});var s}},{default:u(()=>[n(p(g),{class:"w-5 h-5"})]),_:1},8,["onClick"]),n(s,{variant:"hover",onClick:a=>{return s=e.id,h.open(T,{id:s});var s}},{default:u(()=>[n(p(w),{class:"w-5 h-5 text-red-500"})]),_:1},8,["onClick"])])]))),128))]),_:1})])}}};export{V as default};
