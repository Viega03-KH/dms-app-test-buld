import{k as e,c as t,o as a,e as o,p as r,t as l,b as i,f as s,a as n,w as d,u as c,x as u}from"./vue-vendor-VaL6RChx.js";import{d as p}from"./index-Prv8vSnk.js";import{Z as b,z as f}from"./ui-vendor-CHl9FvfL.js";const m={class:"group flex items-center justify-between border border-[#EAECF0] shadow-sm rounded-xl px-4 py-3 hover:bg-blue-50/30 transition-colors duration-200 cursor-pointer",role:"button"},v={class:"flex items-center gap-4 min-w-0 flex-1"},x=["title"],g={class:"flex items-center gap-1 shrink-0 ml-2"},h={__name:"UFileCard",props:{file:{type:Object,required:!0},showDelete:{type:Boolean,default:!1}},emits:["remove"],setup(h,{emit:w}){const k=h,y={pdf:"bg-red-500",doc:"bg-blue-500",docx:"bg-blue-500",xls:"bg-green-500",xlsx:"bg-green-500",zip:"bg-orange-500",rar:"bg-orange-500",png:"bg-indigo-500",jpg:"bg-indigo-500",default:"bg-slate-500"},j=e(()=>k.file?k.file.name||k.file.file?.split("/").pop()||"file":"Unknown File"),C=e(()=>{const e=k.file.extension||j.value.split(".").pop();return e?.toLowerCase()||""}),U=e(()=>y[C.value]||y.default),F=async()=>{const e=k.file.file;if(!e)return alert("Fayl manzili topilmadi");try{const t=await fetch(e);if(!t.ok)throw new Error("Yuklab olishda xatolik");const a=await t.blob(),o=URL.createObjectURL(a),r=document.createElement("a");r.href=o,r.download=j.value,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(o)}catch(t){alert("Faylni yuklab boâ€˜lmadi. Server sozlamalarini tekshiring.")}};return(e,w)=>(a(),t("div",m,[o("div",v,[o("div",{class:r(["flex items-center justify-center text-white text-xs font-bold w-12 h-12 rounded-xl shrink-0 uppercase transition-transform",U.value])},l(C.value),3),o("p",{class:"text-md text-slate-700 font-semibold truncate pr-4",title:j.value},l(j.value),9,x)]),o("div",g,[i(p,{onClick:u(F,["stop"]),variant:"hover",title:"Yuklab olish"},{default:d(()=>[i(c(b),{class:"w-5 h-5 text-gray-500 hover:text-blue-600"})]),_:1}),h.showDelete?(a(),s(p,{key:0,onClick:w[0]||(w[0]=u(t=>e.$emit("remove"),["stop"])),variant:"hover",title:"O'chirish"},{default:d(()=>[i(c(f),{class:"w-5 h-5 text-gray-500 hover:text-red-600"})]),_:1})):n("",!0)])]))}};export{h as _};
